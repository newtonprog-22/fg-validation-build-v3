import{b as V,r as _,d as b,e as g,o as z,i as D,g as t,w as o,u as l,F as B,f as i,a as d,t as v}from"./app-bce630b7.js";import{_ as N,E as f,f as y}from"./AuthenticatedLayout-acc7ea06.js";import{E as S}from"./index-24806037.js";import{E as F,a as c}from"./index-eb68092b.js";import{E as A}from"./index-6675a1c3.js";import{E as C}from"./index-cdd68cdc.js";import{E as I}from"./index-b3e5f322.js";import{E as M}from"./index-8802a420.js";import"./event-e90a632a.js";import"./index-ef9711f2.js";import"./validator-ea7cecad.js";import"./index-0e725776.js";const T={class:"container"},U={class:"row"},P={class:"flex justify-end pt-2"},R=i("label",{for:""},"Serial Number",-1),$=i("label",{for:""},"RFID",-1),j={class:"flex justify-end"},ae={__name:"RFIDAssigning",setup(K){const u=V(!1),s=_({list:[]}),r=_({page:1,page_size:5,total:0});b(()=>{m(),p()});const p=()=>{g.get(route("rfid-assigning.get",r)).then(n=>{const e=n.data;s.list=e.data,r.total=e.total})},m=()=>{s.value={serial_no:null,rfid:null}},E=()=>{m(),u.value=!0},w=()=>{console.log(s.value);const n=s.value.id?route("rfid-assigning.update",s.value.id):route("rfid-assigning.store");g.post(n,s.value).then(()=>{u.value=!1,p()}).catch(e=>{y({type:"error",message:e.response.data.message||"An error occurred"})})},x=n=>{s.value={...n},u.value=!0},h=n=>{M.confirm("Are you sure you want to delete this data?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(async()=>{g.delete(route("rfid-assigning.delete",n)).finally(()=>{y({type:"success",message:"Deleted successfully"}),p()})}).catch(()=>{})};return(n,e)=>(z(),D(B,null,[t(N,null,{default:o(()=>[i("div",T,[i("div",U,[t(l(S),{class:"m-5",shadow:"always"},{default:o(()=>[t(l(f),{class:"mb-2",type:"primary",onClick:E},{default:o(()=>[d("New")]),_:1}),t(l(F),{data:s.list,"row-key":"id","header-row-class-name":"thead-light"},{default:o(()=>[t(l(c),{"min-width":"220px",label:"Serial No"},{default:o(({row:a})=>[d(v(a.serial_no),1)]),_:1}),t(l(c),{"min-width":"220px",label:"RFID"},{default:o(({row:a})=>[d(v(a.rfid),1)]),_:1}),t(l(c),{"min-width":"170px",label:"Action",fixed:"right"},{default:o(({row:a})=>[t(l(f),{type:"primary",onClick:k=>x(a)},{default:o(()=>[d("Edit")]),_:2},1032,["onClick"]),t(l(f),{type:"danger",onClick:k=>h(a.id)},{default:o(()=>[d("Delete")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),i("div",P,[t(l(A),{currentPage:r.page,"onUpdate:currentPage":e[0]||(e[0]=a=>r.page=a),"page-size":r.page_size,"onUpdate:pageSize":e[1]||(e[1]=a=>r.page_size=a),"page-sizes":[5,10,50,100],background:"",layout:"total, sizes, prev, pager, next",total:r.total,onSizeChange:p,onCurrentChange:p},null,8,["currentPage","page-size","total"])])]),_:1})])])]),_:1}),t(l(I),{width:"500px",modelValue:u.value,"onUpdate:modelValue":e[5]||(e[5]=a=>u.value=a),title:"RFID Assigning"},{footer:o(()=>[i("span",j,[t(l(f),{type:"warning",onClick:e[4]||(e[4]=a=>u.value=!1),plain:""},{default:o(()=>[d("Cancel")]),_:1}),t(l(f),{type:"success",onClick:w,plain:""},{default:o(()=>[d("Save")]),_:1})])]),default:o(()=>[i("div",null,[R,t(l(C),{modelValue:s.value.serial_no,"onUpdate:modelValue":e[2]||(e[2]=a=>s.value.serial_no=a)},null,8,["modelValue"])]),i("div",null,[$,t(l(C),{modelValue:s.value.rfid,"onUpdate:modelValue":e[3]||(e[3]=a=>s.value.rfid=a)},null,8,["modelValue"])])]),_:1},8,["modelValue"])],64))}};export{ae as default};
