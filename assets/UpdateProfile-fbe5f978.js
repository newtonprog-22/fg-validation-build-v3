import{r as m,b as k,E as w,d as x,aw as C,o as d,c as g,w as u,f as n,g as i,u as r,a as p,i as c,t as f,l as v,e as B,T as P}from"./app-bce630b7.js";import{E as _,f as U}from"./AuthenticatedLayout-acc7ea06.js";import{E as V}from"./index-cdd68cdc.js";import{E as N}from"./index-b3e5f322.js";import"./event-e90a632a.js";import"./index-0e725776.js";const b=n("label",{for:""},"Name",-1),M={key:0,class:"text-red-600"},D={class:"pt-2"},I=n("label",{for:""},"Email",-1),S={key:0,class:"text-red-600"},T={class:"flex justify-end"},G={__name:"UpdateProfile",props:{onClose:{type:Function,default:()=>{}}},setup(y){const E=y,t=m({value:{name:null,email:null}}),a=m({value:{}}),s=k(!0);w(s,(l,e)=>{l||E.onClose()}),x(()=>{const{name:l,email:e}=C().props.value.user;t.value={name:l,email:e}});const h=()=>{B.post(route("user.update-profile"),t.value).then(l=>{U({type:"success",message:"Profile successfully updated."}),s.value=!1,P.Inertia.reload()}).catch(l=>{a.value=l.response.data.errors})};return(l,e)=>(d(),g(r(N),{width:"350px",modelValue:s.value,"onUpdate:modelValue":e[3]||(e[3]=o=>s.value=o),title:"Update Profile","close-on-click-modal":!1},{footer:u(()=>[n("span",T,[i(r(_),{type:"warning",onClick:e[2]||(e[2]=o=>s.value=!1),plain:""},{default:u(()=>[p("Cancel")]),_:1}),i(r(_),{type:"primary",onClick:h},{default:u(()=>[p("Update")]),_:1})])]),default:u(()=>[n("div",null,[b,i(r(V),{modelValue:t.value.name,"onUpdate:modelValue":e[0]||(e[0]=o=>t.value.name=o),placeholder:"Enter name",style:{width:"100%"}},null,8,["modelValue"]),a.value&&a.value.name?(d(),c("span",M,f(a.value.name[0]),1)):v("",!0)]),n("div",D,[I,i(r(V),{modelValue:t.value.email,"onUpdate:modelValue":e[1]||(e[1]=o=>t.value.email=o),placeholder:"Enter email",style:{width:"100%"}},null,8,["modelValue"]),a.value&&a.value.email?(d(),c("span",S,f(a.value.email[0]),1)):v("",!0)])]),_:1},8,["modelValue"]))}};export{G as default};
