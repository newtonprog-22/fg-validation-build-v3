import{r as h,b as f,d as v,e as x,o as w,c as b,w as n,f as o,g as l,u as s,h as y,a as d,t as u}from"./app-bce630b7.js";import{_ as E,f as D}from"./AuthenticatedLayout-acc7ea06.js";import{E as g}from"./index-d54826fb.js";import{E as V}from"./index-cdd68cdc.js";import{E as C,a as p}from"./index-eb68092b.js";import{E as k}from"./index-6675a1c3.js";import{E as z}from"./index-24806037.js";import"./event-e90a632a.js";import"./index-ef9711f2.js";import"./validator-ea7cecad.js";const Y={class:"container"},M={class:"p-5"},U={class:"flex flex-wrap gap-2 items-center mb-2"},B=o("div",{class:"font-semibold text-lg"},"Date From:",-1),N=o("div",{class:"text-lg font-semibold"},"Date Until:",-1),P={class:"flex gap-2 flex-wrap items-center justify-between"},S=o("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),T={class:"flex justify-end pt-2"},J={__name:"History",setup(j){const i=h({value:[]}),t=f({date_from:new Date,date_until:new Date,page:1,page_size:5,search:""}),m=f(0);v(()=>{r()});const r=()=>{x.get(route("history.get",t.value)).then(c=>{const a=c.data;i.value=a.data,m.value=a.total})},_=()=>{if(i.value.length<1){D({type:"warning",message:"No data to export."});return}window.location.href=route("export.inventory",t.value)};return(c,a)=>(w(),b(E,null,{default:n(()=>[o("div",Y,[o("div",M,[o("div",U,[B,l(s(g),{modelValue:t.value.date_from,"onUpdate:modelValue":a[0]||(a[0]=e=>t.value.date_from=e),type:"date",format:"MM/DD/YYYY",placeholder:"Date from",onChange:r},null,8,["modelValue"]),N,l(s(g),{modelValue:t.value.date_until,"onUpdate:modelValue":a[1]||(a[1]=e=>t.value.date_until=e),type:"date",format:"MM/DD/YYYY",placeholder:"Date until",onChange:r},null,8,["modelValue"])]),o("div",P,[l(s(V),{modelValue:t.value.search,"onUpdate:modelValue":a[2]||(a[2]=e=>t.value.search=e),placeholder:"Search here...",class:"flex-1 max-w-[500px] min-w-[200px]",clearable:"",onClear:r,onKeyup:y(r,["enter"])},{prefix:n(()=>[S]),_:1},8,["modelValue","onKeyup"]),o("div",{class:"px-4 py-1 rounded-md bg-teal-700 text-white font-semibold hover:bg-teal-600 cursor-pointer",onClick:_}," Export ")]),l(s(z),{class:"mt-5",shadow:"always"},{default:n(()=>[l(s(C),{data:i.value,"row-key":"id","header-row-class-name":"thead-light"},{default:n(()=>[l(s(p),{"min-width":"220px",label:"Location"},{default:n(({row:e})=>[d(u(e.transformer.loc),1)]),_:1}),l(s(p),{"min-width":"220px",label:"Transformer Serial Number"},{default:n(({row:e})=>[d(u(e.transformer.serial_no),1)]),_:1}),l(s(p),{"min-width":"220px",label:"Date"},{default:n(({row:e})=>[d(u(e.created_at.replace("T"," ").substring(0,19)),1)]),_:1})]),_:1},8,["data"]),o("div",T,[l(s(k),{currentPage:t.value.page,"onUpdate:currentPage":a[3]||(a[3]=e=>t.value.page=e),"page-size":t.value.page_size,"onUpdate:pageSize":a[4]||(a[4]=e=>t.value.page_size=e),"page-sizes":[5,10,50,100],background:"",layout:"total, sizes, prev, pager, next",total:m.value,onSizeChange:r,onCurrentChange:r},null,8,["currentPage","page-size","total"])])]),_:1})])])]),_:1}))}};export{J as default};
