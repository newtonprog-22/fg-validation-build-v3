import{b as B,r as D,d as I,e as V,o as f,i as b,g as t,w as s,u as a,F as k,f as n,c as v,a as u,l as h,h as N,j as C,t as m}from"./app-bce630b7.js";import{_ as P,E as _,f as w}from"./AuthenticatedLayout-acc7ea06.js";import{E as R}from"./index-24806037.js";import{E as r}from"./index-cdd68cdc.js";import{E as S,a as U}from"./index-ef9711f2.js";import{E as F}from"./index-d54826fb.js";import{E as K,a as p}from"./index-eb68092b.js";import{E as j}from"./index-6675a1c3.js";import{E as O}from"./index-b3e5f322.js";import{E as q}from"./index-8802a420.js";import"./event-e90a632a.js";import"./validator-ea7cecad.js";import"./index-0e725776.js";const W={class:"container pr-10"},G={class:"flex items-center mb-1 gap-2 flex-wrap"},H={class:"flex flex-wrap gap-2 mb-2 items-center"},J={class:"flex justify-end pt-2"},Q=n("label",null,"RFID",-1),X={class:"pt-2"},Z=n("label",null,"Material",-1),ee={class:"pt-2"},le=n("label",null,"Material Description",-1),ae={class:"pt-2"},te=n("label",null,"Base Unit of Measure",-1),oe={class:"pt-2"},ne=n("label",null,"Storage Type",-1),se={class:"pt-2"},ue=n("label",null,"Storage Location",-1),de={class:"pt-2"},ie=n("label",null,"Storage Unit",-1),re={class:"pt-2"},pe=n("label",null,"Storage Bin",-1),me={class:"pt-2"},ce=n("label",null,"Stock Type",-1),fe={class:"pt-2"},ve=n("label",null,"Available Stock",-1),ge={class:"pt-2"},_e=n("label",null,"Last Movement",-1),ye={class:"pt-2"},Ve=n("label",null,"Last Changed By",-1),be={class:"pt-2"},ke=n("label",null,"Inventory Record",-1),he={class:"flex justify-end"},Ae={__name:"Transformer",props:["loc","bin","stock_type"],setup(x){const g=B(!1),o=D({list:[]}),i=D({page:1,page_size:5,search:"",loc:null,bin:null,last_movement:null,stock_type:null}),E=B(0);I(()=>{M(),c()});const M=()=>{o.value={rfid:null,material:null,description:null,um:null,loc:null,type:null,serial_no:null,bin:null,stock:null,last_movement:null,last_changed_by:null,record:null,stock_type:null}},T=()=>document.querySelector("#import-transformer-file").click(),$=d=>{V.post(route("import.transformer"),{file:d.target.files[0],name:name.value},{headers:{"content-type":"multipart/form-data"}}).then(l=>{console.log(l.data),l.data?w({type:"warning",message:l.data}):w({type:"success",message:"Successfully uploaded."})}).catch(()=>{w({type:"error",message:"Error importing!!!"})}).finally(()=>{c()})},c=()=>{V.get(route("transformer.show",i)).then(d=>{const l=d.data;o.list=l.data,E.value=l.total})},z=()=>{M(),g.value=!0},L=()=>{const d=o.value.id?route("transformer.update",o.value.id):route("transformer.store");V.post(d,o.value).finally(()=>{g.value=!1,c()})},A=d=>{o.value={...d},g.value=!0},Y=d=>{q.confirm("Are you sure you want to delete this data?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(async()=>{V.post(route("transformer.delete",d)).finally(()=>{w({type:"success",message:"Deleted successfully"}),c()})}).catch(()=>{})};return(d,l)=>(f(),b(k,null,[t(P,null,{default:s(()=>[n("input",{id:"import-transformer-file",style:{display:"none"},type:"file",onChange:l[0]||(l[0]=e=>$(e)),accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"},null,32),n("div",W,[t(a(R),{class:"m-5 w-full",shadow:"always"},{default:s(()=>[n("div",G,[d.$page.props.isAdmin||d.$page.props.permissions.some(e=>e==="save transformer")?(f(),v(a(_),{key:0,type:"primary",onClick:z},{default:s(()=>[u("New")]),_:1})):h("",!0),d.$page.props.isAdmin||d.$page.props.permissions.some(e=>e==="save transformer")?(f(),v(a(_),{key:1,type:"success",onClick:T},{default:s(()=>[u("Upload")]),_:1})):h("",!0),t(a(r),{modelValue:i.search,"onUpdate:modelValue":l[1]||(l[1]=e=>i.search=e),class:"flex-1 min-w-[200px]",placeholder:"Search here...",onKeyup:N(c,["enter","native"]),onClear:c,clearable:""},null,8,["modelValue","onKeyup"])]),n("div",H,[t(a(S),{modelValue:i.loc,"onUpdate:modelValue":l[2]||(l[2]=e=>i.loc=e),clearable:"",class:"flex-1 min-w-[150px]",placeholder:"Select Location",onChange:c},{default:s(()=>[(f(!0),b(k,null,C(x.loc||[],e=>(f(),v(a(U),{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),t(a(S),{modelValue:i.bin,"onUpdate:modelValue":l[3]||(l[3]=e=>i.bin=e),clearable:"",class:"flex-1 min-w-[150px]",placeholder:"Select Storage Bin",onChange:c},{default:s(()=>[(f(!0),b(k,null,C(x.bin||[],e=>(f(),v(a(U),{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),t(a(S),{modelValue:i.stock_type,"onUpdate:modelValue":l[4]||(l[4]=e=>i.stock_type=e),clearable:"",class:"flex-1 min-w-[150px]",placeholder:"Select Stock Type",onChange:c},{default:s(()=>[(f(!0),b(k,null,C(x.stock_type||[],e=>(f(),v(a(U),{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),t(a(F),{modelValue:i.last_movement,"onUpdate:modelValue":l[5]||(l[5]=e=>i.last_movement=e),type:"date",clearable:"",format:"MM/DD/YYYY","value-format":"MM/DD/YYYY",class:"flex-1 min-w-[150px]",placeholder:"Select Last Movement Date",onChange:c},null,8,["modelValue"])]),t(a(K),{data:o.list,"row-key":"id","header-row-class-name":"thead-light"},{default:s(()=>[t(a(p),{"min-width":"220px",label:"RFID"},{default:s(({row:e})=>[u(m(e.rfid),1)]),_:1}),t(a(p),{"min-width":"220px",label:"Material"},{default:s(({row:e})=>[u(m(e.material),1)]),_:1}),t(a(p),{"min-width":"220px",label:"Material Description"},{default:s(({row:e})=>[u(m(e.description),1)]),_:1}),t(a(p),{"min-width":"220px",label:"Storage Location"},{default:s(({row:e})=>[u(m(e.loc),1)]),_:1}),t(a(p),{"min-width":"220px",label:"Base Unit of Measure"},{default:s(({row:e})=>[u(m(e.um),1)]),_:1}),t(a(p),{"min-width":"220px",label:"Storage Type"},{default:s(({row:e})=>[u(m(e.type),1)]),_:1}),t(a(p),{"min-width":"220px",label:"Storage Unit"},{default:s(({row:e})=>[u(m(e.serial_no),1)]),_:1}),t(a(p),{"min-width":"220px",label:"Storage Bin"},{default:s(({row:e})=>[u(m(e.bin),1)]),_:1}),t(a(p),{"min-width":"220px",label:"Stock Type"},{default:s(({row:e})=>[u(m(e.stock_type),1)]),_:1}),t(a(p),{"min-width":"220px",label:"Available Stock"},{default:s(({row:e})=>[u(m(e.stock),1)]),_:1}),t(a(p),{"min-width":"220px",label:"Last Movement"},{default:s(({row:e})=>[u(m(e.last_movement),1)]),_:1}),t(a(p),{"min-width":"220px",label:"Last Changed by"},{default:s(({row:e})=>[u(m(e.last_changed_by),1)]),_:1}),t(a(p),{"min-width":"220px",label:"Inventory Record"},{default:s(({row:e})=>[u(m(e.record),1)]),_:1}),t(a(p),{"min-width":"170px",label:"Action",fixed:"right"},{default:s(({row:e})=>[d.$page.props.isAdmin||d.$page.props.permissions.some(y=>y==="update transformer")?(f(),v(a(_),{key:0,type:"primary",onClick:y=>A(e)},{default:s(()=>[u("Edit")]),_:2},1032,["onClick"])):h("",!0),d.$page.props.isAdmin||d.$page.props.permissions.some(y=>y==="delete transformer")?(f(),v(a(_),{key:1,type:"danger",onClick:y=>Y(e.id)},{default:s(()=>[u("Delete")]),_:2},1032,["onClick"])):h("",!0)]),_:1})]),_:1},8,["data"]),n("div",J,[t(a(j),{currentPage:i.page,"onUpdate:currentPage":l[6]||(l[6]=e=>i.page=e),"page-size":i.page_size,"onUpdate:pageSize":l[7]||(l[7]=e=>i.page_size=e),"page-sizes":[5,10,50,100],background:"",layout:"total, sizes, prev, pager, next",total:E.value,onSizeChange:c,onCurrentChange:c},null,8,["currentPage","page-size","total"])])]),_:1})])]),_:1}),t(a(O),{width:"500px",modelValue:g.value,"onUpdate:modelValue":l[22]||(l[22]=e=>g.value=e),title:"Transformer"},{footer:s(()=>[n("span",he,[t(a(_),{type:"warning",onClick:l[21]||(l[21]=e=>g.value=!1),plain:""},{default:s(()=>[u("Cancel")]),_:1}),t(a(_),{type:"success",onClick:L,plain:""},{default:s(()=>[u("Save")]),_:1})])]),default:s(()=>[n("div",null,[Q,t(a(r),{modelValue:o.value.rfid,"onUpdate:modelValue":l[8]||(l[8]=e=>o.value.rfid=e)},null,8,["modelValue"])]),n("div",X,[Z,t(a(r),{modelValue:o.value.material,"onUpdate:modelValue":l[9]||(l[9]=e=>o.value.material=e)},null,8,["modelValue"])]),n("div",ee,[le,t(a(r),{modelValue:o.value.description,"onUpdate:modelValue":l[10]||(l[10]=e=>o.value.description=e)},null,8,["modelValue"])]),n("div",ae,[te,t(a(r),{modelValue:o.value.um,"onUpdate:modelValue":l[11]||(l[11]=e=>o.value.um=e)},null,8,["modelValue"])]),n("div",oe,[ne,t(a(r),{modelValue:o.value.type,"onUpdate:modelValue":l[12]||(l[12]=e=>o.value.type=e)},null,8,["modelValue"])]),n("div",se,[ue,t(a(r),{modelValue:o.value.loc,"onUpdate:modelValue":l[13]||(l[13]=e=>o.value.loc=e)},null,8,["modelValue"])]),n("div",de,[ie,t(a(r),{modelValue:o.value.serial_no,"onUpdate:modelValue":l[14]||(l[14]=e=>o.value.serial_no=e)},null,8,["modelValue"])]),n("div",re,[pe,t(a(r),{modelValue:o.value.bin,"onUpdate:modelValue":l[15]||(l[15]=e=>o.value.bin=e)},null,8,["modelValue"])]),n("div",me,[ce,t(a(r),{modelValue:o.value.stock_type,"onUpdate:modelValue":l[16]||(l[16]=e=>o.value.stock_type=e)},null,8,["modelValue"])]),n("div",fe,[ve,t(a(r),{modelValue:o.value.stock,"onUpdate:modelValue":l[17]||(l[17]=e=>o.value.stock=e)},null,8,["modelValue"])]),n("div",ge,[_e,t(a(r),{modelValue:o.value.last_movement,"onUpdate:modelValue":l[18]||(l[18]=e=>o.value.last_movement=e)},null,8,["modelValue"])]),n("div",ye,[Ve,t(a(r),{modelValue:o.value.last_changed_by,"onUpdate:modelValue":l[19]||(l[19]=e=>o.value.last_changed_by=e)},null,8,["modelValue"])]),n("div",be,[ke,t(a(r),{modelValue:o.value.record,"onUpdate:modelValue":l[20]||(l[20]=e=>o.value.record=e)},null,8,["modelValue"])])]),_:1},8,["modelValue"])],64))}};export{Ae as default};
